---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('power_rankings');
---

<Layout title="Power Rankings">
  <h1 class="text-3xl font-bold mb-8">Power Rankings</h1>
  <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
    {posts.map(post => (
      <article class="border rounded-lg overflow-hidden shadow hover:shadow-lg transition">
        <a href={`/power-rankings/${post.slug}`}>
          {post.data.image && <img src={post.data.image} alt={post.data.title} class="w-full h-48 object-cover" />}
          <div class="p-4">
            <h2 class="text-xl font-semibold">{post.data.title}</h2>
            {post.data.excerpt && <p class="mt-2 text-gray-400">{post.data.excerpt}</p>}
          </div>
        </a>
      </article>
    ))}
  </div>
</Layout>
